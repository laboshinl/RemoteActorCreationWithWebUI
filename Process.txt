01) Запуск ВМ с LocalApp
02) Старт LocalApp
03) Client->LocalApp(WebUIActor):Http(Put "Actor" {type})
04) LocalApp(WebUIActor)->Client:Http(Actor will be ready soon(idOfRequest))
05) LocalApp(WebUIActor)->LocalApp(Controller):Msg(NewActorRequest(type))
06) LocalApp(Controller)->LocalApp(OpenstackA):Msg(ChoosenFewestActorAmountRemoter)
07) LocalApp(Controller)->LocalApp(RouterProv):Msg(CreateNewConnection)
*Создание RemoteApp ВМ*
08) Проверка наличия RemoteApp с наименьшим числом акторов в распоряжении OpenstackA, сейчас ВМ нет, надо создавать.
09) Создание ВМ с помощью Openstack API
10) Запуск ВМ c RemoteApp
11) Старт RemoteApp
12) RemoteApp(RemoteA)->LocalApp(RemoteA):Msg(ConnectionRequest)
13) LocalApp(RemoteA)->RemoteApp(RemoteA):Msg(Connected)
14) LocalApp(RemoteA)->LocalApp(OpenstackA):Msg(VMStarted)
15) LocalApp(RemoteA)->RemoteApp(RemoteA):Msg(StartNewActor(Type))
16) Создается ActorAvatar1
17) RemoteApp(ActorAvatar1)->LocalApp(RemoteA):Msg(ActorStarted)
18) LocalApp(RemoteA)->RemoteApp(ActorAvatar1):Msg(Check)
19) RemoteApp(ActorAvatar1)->LocalApp(RemoteA):Msg(CheckOK)
20) LocalApp(RemoteA)->LocalApp(Controller):Msg(ActorCreated)
*Тем временем у распределеителя посредников*
21) Проверка наличия ВМ с распределителем посредников, ее нет, надо создавать
22) LocalApp(RouterProv)->LocalApp(OpenstackA):Msg(StartRouterVM)
23) Запуск ВМ c RouterProv
24) Старт RouterProv
25) RouterProv(RemoteA)->LocalApp(RemoteA):Msg(ConnectionRequest)
26) LocalApp(RemoteA)->RouterProv(RemoteA):Msg(Connected)
27) LocalApp(RouterProv)->RouterProv(RemoteA):Msg(CreateNewConnection)
28) RouterProv(RemoteA)->LocalApp(RouterProv):Msg(ConnectionReady(Address1, Address2))
29) LocalApp(RouterProv)->LocalApp(Controller):Msg(ConnectionReady(Address1, Address2))
30) LocalApp(Controller)->LocalApp(RemoteA):Msg(ConnectActor(Address1))
31) Client->LocalApp(WebUIActor):Http(Get "Status" {idOfRequest})
32) LocalApp(WebUIActor)->LocalApp(Controller):Msg(isActorReady(type))
33) LocalApp(Controller)->LocalApp(WebUIActor):Msg(ActorReady(Address2))
34) LocalApp(WebUIActor)->Client:Http(Actor ready {address2})